# <%= baseName %>

This application was generated using JHipster <%= jhipsterVersion %> with the Rust blueprint.

## Technology Stack

- **Web Framework**: [Axum](https://github.com/tokio-rs/axum)
- **ORM**: [Diesel](https://diesel.rs/)
<%_ if (devDatabaseTypePostgresql) { _%>
- **Database**: PostgreSQL
<%_ } else { _%>
- **Database**: SQLite
<%_ } _%>
- **Runtime**: [Tokio](https://tokio.rs/)

## Development

### Prerequisites

- Rust 1.75 or later
<%_ if (devDatabaseTypePostgresql) { _%>
- PostgreSQL 14 or later
- PostgreSQL client library (`libpq`):
  - macOS: `brew install libpq && echo 'export LIBRARY_PATH="/opt/homebrew/opt/libpq/lib:$LIBRARY_PATH"' >> ~/.zshrc`
  - Ubuntu/Debian: `sudo apt-get install libpq-dev`
  - Fedora: `sudo dnf install libpq-devel`
- Diesel CLI: `cargo install diesel_cli --no-default-features --features postgres`
<%_ } else { _%>
- Diesel CLI: `cargo install diesel_cli --no-default-features --features sqlite`
<%_ } _%>

### Setup

<%_ if (devDatabaseTypePostgresql) { _%>
1. Start PostgreSQL using Docker:
   ```bash
   docker-compose up -d
   ```

2. Run migrations:
   ```bash
   diesel migration run
   ```

3. Start the application:
   ```bash
   cargo run
   ```
<%_ } else { _%>
1. Copy environment file:
   ```bash
   cp .env.example .env
   ```

2. Create database directory:
   ```bash
   mkdir -p target/db
   ```

3. Run migrations:
   ```bash
   diesel migration run
   ```

4. Start the application:
   ```bash
   cargo run
   ```
<%_ } _%>

The server will start at `http://localhost:8080`.

### Available Endpoints

- `GET /api/health` - Health check
- `GET /api/users` - List users (authenticated)
- `GET /api/account` - Get current user account (authenticated)
- `POST /api/authenticate` - Login

## Building for Production

```bash
cargo build --release
```

## Docker

Build and run with Docker:

```bash
docker build -t <%= baseName %> .
docker run -p 8080:8080 <%= baseName %>
```

## Testing

```bash
cargo test
```

## Project Structure

```
.
├── Cargo.toml              # Workspace manifest
├── diesel.toml             # Diesel configuration
<%_ if (devDatabaseTypePostgresql) { _%>
├── docker-compose.yml      # Docker Compose for PostgreSQL
<%_ } _%>
├── migrations/             # Database migrations
└── server/
    ├── Cargo.toml          # Server crate manifest
    └── src/
        ├── main.rs         # Application entry point
        ├── lib.rs          # Library root
        ├── config/         # Configuration
        ├── db/             # Database connection
        ├── models/         # Diesel models
        ├── handlers/       # Axum route handlers
        ├── services/       # Business logic
        ├── middleware/     # Middleware (auth, etc.)
        ├── errors/         # Error types
        └── dto/            # Data transfer objects
```
