# <%= baseName %> Environment Configuration
# Generated by JHipster

# Application
APP_NAME=<%= baseName %>
APP_ENV=development
<%_ if (applicationTypeMicroservice) { _%>
APP_PORT=8081
<%_ } else { _%>
APP_PORT=8080
<%_ } _%>
APP_HOST=0.0.0.0
# Set to true when using HTTPS (e.g., in production with TLS)
# APP_HTTPS=false

# Database
<%_ if (devDatabaseTypeMongodb) { _%>
MONGODB_URI=mongodb://localhost:27017
MONGODB_DATABASE=<%= baseName.toLowerCase() %>
<%_ } else if (devDatabaseTypePostgresql) { _%>
DATABASE_URL=postgres://postgres:postgres@localhost:5432/<%= baseName.toLowerCase() %>
<%_ } else if (devDatabaseTypeMysql) { _%>
DATABASE_URL=mysql://root:root@127.0.0.1:3306/<%= baseName.toLowerCase() %>
<%_ } else { _%>
DATABASE_URL=sqlite://./target/db/<%= baseName %>.db
<%_ } _%>

<%_ if (authenticationTypeOauth2) { _%>
# OAuth2/OIDC Configuration (Keycloak)
OIDC_ISSUER_URI=http://localhost:9080/realms/jhipster
OIDC_CLIENT_ID=web_app
OIDC_CLIENT_SECRET=web_app

# Frontend URL for OAuth2 redirect after authentication
# In development, this is the Angular dev server URL
FRONTEND_URL=http://localhost:9000
<%_ } else { _%>
# JWT Configuration
JWT_SECRET=<%= baseName %>-jwt-secret-key-change-in-production-<%= new Date().getTime() %>
JWT_EXPIRATION_HOURS=24
<%_ } _%>

<%_ if (enableStaticHosting) { _%>
# Static Files Configuration
# Set SERVE_STATIC_FILES=true to serve the SPA UI from the Rust backend
# STATIC_FILES_DIR specifies the directory containing the built Angular/React/Vue app
# SERVE_STATIC_FILES=true
# STATIC_FILES_DIR=./static
<%_ } _%>

<%_ if (enableEmail) { _%>
# Email Configuration (disabled by default - enable when SMTP server is configured)
# The app works without email; when disabled, registration/reset endpoints log warnings
MAIL_ENABLED=false
MAIL_HOST=localhost
MAIL_PORT=1025
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_FROM=noreply@<%= dasherizedBaseName %>.com
MAIL_FROM_NAME=<%= baseName %>
MAIL_USE_TLS=false
MAIL_USE_STARTTLS=false
# Base URL for links in emails (e.g., activation links)
<%_ if (applicationTypeMonolith) { _%>
# For monolith apps: auto-detected from APP_HOST:APP_PORT when SERVE_STATIC_FILES=true
# Set explicitly only if you need to override (e.g., behind a reverse proxy)
# MAIL_BASE_URL=http://localhost:8080
<%_ } else { _%>
# In development with Angular dev server, this is typically http://localhost:9000
MAIL_BASE_URL=http://localhost:9000
<%_ } _%>
<%_ } _%>

<%_ if (serviceDiscoveryConsul) { _%>
# Consul Service Discovery Configuration
CONSUL_HOST=localhost
CONSUL_PORT=8500
CONSUL_SERVICE_NAME=<%= baseName.toLowerCase() %>
CONSUL_REGISTER_SERVICE=true
CONSUL_HEALTH_CHECK_INTERVAL=10
CONSUL_ENABLE_CONFIG=true
# CONSUL_ACL_TOKEN=your-acl-token-if-needed
CONSUL_CONFIG_KEY_PREFIX=config/<%= baseName.toLowerCase() %>
<%_ } _%>

<%_ if (messageBrokerKafka) { _%>
# Kafka Message Broker Configuration
KAFKA_ENABLED=true
# Use port 29092 for external access (port 9092 is for internal Docker communication)
KAFKA_BOOTSTRAP_SERVERS=localhost:29092
KAFKA_GROUP_ID=<%= dasherizedBaseName %>-group
KAFKA_DEFAULT_TOPIC=<%= dasherizedBaseName %>-topic
# Consumer configuration
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_ENABLE_AUTO_COMMIT=true
KAFKA_AUTO_COMMIT_INTERVAL_MS=5000
KAFKA_SESSION_TIMEOUT_MS=10000
# Producer configuration
KAFKA_MESSAGE_TIMEOUT_MS=5000
# Security (uncomment and configure for secure clusters)
KAFKA_SECURITY_PROTOCOL=plaintext
# KAFKA_SASL_MECHANISM=PLAIN
# KAFKA_SASL_USERNAME=your-username
# KAFKA_SASL_PASSWORD=your-password
<%_ } _%>

# Logging
RUST_LOG=info,<%= baseName %>=debug,tower_http=debug
